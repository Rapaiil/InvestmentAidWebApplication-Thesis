<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE struts PUBLIC
	"-//Apache Software Foundation//DTD Struts Configuration 2.1.7//EN"
	"http://struts.apache.org/dtds/struts-2.1.7.dtd">
	
<struts>
	<constant name="struts.ui.theme" value="css_xhtml"></constant>
	<constant name="struts.ui.templateDir" value="template"></constant>
	
	<package name="default" extends="struts-default">
		<action name="registerprofile" class="invaid.users.action.RegisterProfileAction">
			<result name="success">registerAccount.jsp</result>
			<result name="input">registerProfile.jsp</result>
			<result name="error">error/error404.jsp</result>
		</action>
		<action name="registeraccount" class="invaid.users.action.RegisterAccountAction">
			<result name="success">accountVerify.jsp</result>
			<result name="input">registerAccount.jsp</result>
			<result name="error">error/error404.jsp</result>
		</action>
	</package>
	
	<package name="loginuser" extends="struts-default">
		<action name="loginotp" class="invaid.users.action.LoginAccountAction">
			<result name="success" type="redirect">
				<param name="location">login_otp.jsp</param>
				<param name="token">${token}</param>
			</result>
			<result name="denied"></result>
			<result name="invalid">login.jsp</result>
			<result name="error"></result>
		</action>
		<action name="loginaccount" class="invaid.users.action.VerifyLoginAction">
			<result name="success">index.jsp</result>
			<result name="error" type="redirect">
				<param name="location">login_otp.jsp</param>
				<param name="token">${token}</param>
			</result>
		</action>
		<action name="logoutuser" class="invaid.users.action.LogoutUserAction">
			<result name="success">index.jsp</result>
			<result name="error">/</result>
		</action>
	</package>
	
	<package name="forgotpassword" extends="struts-default">
		<action name="forgotpassword" class="invaid.users.action.ForgotPasswordAction">
			<result name="success">/forgot_password_email_sent.jsp</result>
			<result name="error">/</result>
		</action>
	</package>
	
	<package name="renewpassword" extends="struts-default">
		<action name="renewpassword" class="invaid.users.action.RenewPasswordAction" method="givePermission">
			<result name="granted">renew_password.jsp</result>
			<result name="denied">/</result>
		</action>
		<action name="resetpassword" class="invaid.users.action.RenewPasswordAction">
			<result name="success">/reset_password_success.jsp</result>
			<result name="error">/</result>
		</action>
	</package>
	
	<package name="verifyuser" extends="struts-default">
		<action name="verifyuser" class="invaid.users.action.VerifyAccountAction">
			<result name="success">accountVerified.jsp</result>
			<result name="error">/</result>
		</action>
	</package>
	
	<package name="webcrawler" extends="struts-default">
		<action name="webcrawlmf" class="invaid.users.action.MFWebCrawlAction">
			<result name="success">monitoring.jsp</result>
			<result name="error">/</result>
		</action>
		<action name="webcrawluitf" class="invaid.users.action.UITFWebCrawlAction">
			<result name="success">monitoring.jsp</result>
			<result name="error">/</result>
		</action>
	</package>
	
	<package name="webparser" extends="struts-default">
		<action name="parsemf" class="invaid.users.action.MFXMLParseAction">
			<result name="success">data/mf.jsp</result>
			<result name="error">error/error404.jsp</result>
		</action>
		<action name="parseuitf" class="invaid.users.action.UITFXMLParseAction">
			<result name="success">data/uitf.jsp</result>
			<result name="error">error/error404.jsp</result>
		</action>
	</package>
	
	<package name="currencyconverter" extends="struts-default, json-default">
		<action name="crawlrates" class="invaid.users.action.ForexWebCrawlAction">
			<result name="success">data/currencyconverter.jsp</result>
			<result name="error">error/error500.jsp</result>
		</action>
		<action name="retrieverates" class="invaid.users.action.ForexWebCrawlAction" method="getRates">
			<result type="json">ratestable</result>
		</action>
	</package>
</struts>